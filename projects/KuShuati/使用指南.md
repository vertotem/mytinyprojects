# 刷题网站使用指南

## 🚀 快速开始

### 1. 启动网站
- **方法一**：直接双击 `index.html` 文件在浏览器中打开
- **方法二**：双击 `start_server.bat` 启动本地服务器，然后访问 http://localhost:8000

### 2. 导入示例题库
我们已经为你准备了两个示例题库：

- **📚 数学基础题库_练习模式.zip** - 包含6道不同类型的练习题
- **🎓 数学期末考试2024_考试模式.zip** - 包含4道考试题，支持限时考试

**导入步骤：**
1. 点击首页的"导入题库"按钮
2. 选择上述ZIP文件之一
3. 等待导入完成
4. 开始练习！

## 📖 功能详解

### 练习模式
- ✅ **多题库混合练习** - 可以同时选择多个题库进行练习
- ✅ **自动进度保存** - 刷新页面后可以继续上次的练习
- ✅ **智能错题记录** - 答错的题目自动加入错题本
- ✅ **多种题型支持** - 单选、多选、主观题（点击/输入模式）

### 考试模式
- ✅ **限时考试** - 支持设置考试时间限制
- ✅ **顺序出题** - 按照题库中的顺序出题，不随机打乱
- ✅ **题目导航** - 可以快速跳转到任意题目
- ✅ **自动计分** - 考试结束后自动计算得分

### 错题本功能
- ✅ **多错题本管理** - 可以创建多个错题本分类管理
- ✅ **错误统计** - 记录每道题的错误次数
- ✅ **掌握程度评估** - 可以标记对题目的掌握程度
- ✅ **错题重刷** - 支持重新练习错题本中的题目

## 🛠️ 创建自己的题库

### 使用Python脚本创建
1. **运行数据库生成脚本**：
   ```bash
   python create_sample_database.py
   ```

2. **自定义题目内容**：
   - 编辑 `create_sample_database.py` 文件
   - 修改 `questions_data` 列表中的题目内容
   - 重新运行脚本生成新的数据库

3. **打包题库**：
   ```bash
   python package_sample_banks.py
   ```

### 手动创建题库
1. **创建SQLite数据库**：
   - 使用DB Browser for SQLite等工具
   - 按照 `sample_database_structure.sql` 中的格式创建表结构

2. **添加题目数据**：
   - 参考 `题库文件格式说明.md` 了解数据格式
   - 插入题目数据到 `questions` 表

3. **准备图片文件**：
   - 将图片放在 `images/` 文件夹中
   - 在题目HTML中使用相对路径引用

4. **打包成ZIP**：
   - 将 `.db` 文件和 `images/` 文件夹一起压缩成ZIP

## 📊 题目类型说明

### 单选题 (single)
```json
{
    "type": "single",
    "content_html": "<p>题目内容</p>",
    "options_html": "{\"A\": \"选项A\", \"B\": \"选项B\", \"C\": \"选项C\", \"D\": \"选项D\"}",
    "correct_option_keys": "B"
}
```

### 多选题 (multi)
```json
{
    "type": "multi",
    "content_html": "<p>题目内容</p>",
    "options_html": "{\"A\": \"选项A\", \"B\": \"选项B\", \"C\": \"选项C\", \"D\": \"选项D\"}",
    "correct_option_keys": "A,C"
}
```

### 主观题-点击模式 (large-click)
- 用户先思考，点击"我想好了"查看答案
- 然后自我判断对错和掌握程度

### 主观题-输入模式 (large-input)
- 用户输入答案后提交
- 显示参考答案，然后自我判断

## 💾 数据管理

### 数据存储位置
- **题库数据**：临时存储在浏览器内存中（sql.js）
- **用户数据**：持久存储在浏览器的IndexedDB中
  - 错题本记录
  - 练习进度
  - 用户设置

### 数据备份
1. **导出用户数据**：
   - 在设置页面点击"导出用户数据"
   - 下载 `.db` 文件进行备份

2. **导入用户数据**：
   - 在设置页面点击"导入用户数据"
   - 选择之前导出的 `.db` 文件

### 注意事项
- 清除浏览器数据会丢失所有用户数据
- 建议定期导出数据进行备份
- 题库文件需要重新导入（不会自动保存）

## 🔧 技术架构

### 前端技术栈
- **Vue.js 3** - 响应式前端框架
- **sql.js** - 浏览器中的SQLite数据库
- **IndexedDB** - 浏览器本地数据库
- **JSZip** - ZIP文件处理
- **FileSaver.js** - 文件下载功能

### 数据流程
1. **题库导入** → ZIP解压 → 加载到sql.js → 题目展示
2. **用户答题** → 实时保存到IndexedDB → 错题记录
3. **数据导出** → 从IndexedDB读取 → 生成.db文件 → 下载

## 🐛 常见问题

### Q: 导入题库失败怎么办？
A: 检查ZIP文件是否包含正确格式的.db文件，参考示例题库格式。

### Q: 练习进度丢失了？
A: 检查浏览器是否清除了本地数据，建议定期导出用户数据备份。

### Q: 图片显示不出来？
A: 确保图片文件在ZIP包的images文件夹中，且HTML中的路径正确。

### Q: 考试模式题库不显示？
A: 确保数据库中的`question_bank_config`表中`is_exam_mode`字段设置为1。

## 📞 技术支持

如果遇到问题，可以：
1. 查看浏览器控制台的错误信息
2. 检查题库文件格式是否正确
3. 参考示例题库的数据结构
4. 确保使用支持的浏览器版本（Chrome 60+, Firefox 55+, Safari 12+, Edge 79+）

---

**祝你学习愉快！** 🎉
